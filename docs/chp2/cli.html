<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>DIY CLI Encryption Tool - High Assurance Rust: Developing Secure and Robust Software</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../landing.html">High Assurance Rust</a></li><li class="chapter-item expanded affix "><a href="../faq.html">Frequently Asked Questions (FAQ)</a></li><li class="chapter-item expanded affix "><a href="../engage.html">Engage with this Book!</a></li><li class="chapter-item expanded affix "><a href="../cfp.html">Sponsor Call for Proposals (CFP)</a></li><li class="chapter-item expanded affix "><a href="../download.html">Download</a></li><li class="chapter-item expanded affix "><a href="../changelog.html">Changelog</a></li><li class="chapter-item expanded affix "><a href="../license.html">License</a></li><li class="chapter-item expanded affix "><li class="part-title">Novice: Systems Security</li><li class="spacer"></li><li class="chapter-item expanded "><a href="../chp1/_index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chp1/why_this_book.html"><strong aria-hidden="true">1.1.</strong> Why this book?</a></li><li class="chapter-item expanded "><a href="../chp1/how_is_this_book_structured.html"><strong aria-hidden="true">1.2.</strong> How is this book structured?</a></li><li class="chapter-item expanded "><a href="../chp1/challenges.html"><strong aria-hidden="true">1.3.</strong> Hands-on Learning</a></li><li class="chapter-item expanded "><a href="../chp1/about_the_team.html"><strong aria-hidden="true">1.4.</strong> About the Team</a></li><li class="chapter-item expanded "><a href="../chp1/_hands_on.html"><strong aria-hidden="true">1.5.</strong> Warmup: Environment Setup</a></li></ol></li><li class="chapter-item expanded "><a href="../chp2/_index.html"><strong aria-hidden="true">2.</strong> Software Assurance</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chp2/static_vs_dynamic.html"><strong aria-hidden="true">2.1.</strong> Static vs. Dynamic Tools</a></li><li class="chapter-item expanded "><a href="../chp2/static_assurance_1.html"><strong aria-hidden="true">2.2.</strong> Static Assurance (1/2)</a></li><li class="chapter-item expanded "><a href="../chp2/static_assurance_2.html"><strong aria-hidden="true">2.3.</strong> Static Assurance (2/2)</a></li><li class="chapter-item expanded "><a href="../chp2/dynamic_assurance_1.html"><strong aria-hidden="true">2.4.</strong> Dynamic Assurance (1/3)</a></li><li class="chapter-item expanded "><a href="../chp2/dynamic_assurance_2.html"><strong aria-hidden="true">2.5.</strong> Dynamic Assurance (2/3)</a></li><li class="chapter-item expanded "><a href="../chp2/dynamic_assurance_3.html"><strong aria-hidden="true">2.6.</strong> Dynamic Assurance (3/3)</a></li><li class="chapter-item expanded "><a href="../chp2/limits.html"><strong aria-hidden="true">2.7.</strong> Limitations and Threat Modeling</a></li><li class="chapter-item expanded "><a href="../chp2/cli.html" class="active"><strong aria-hidden="true">2.8.</strong> DIY CLI Encryption Tool</a></li><li class="chapter-item expanded "><a href="../chp2/operational_assurance_1.html"><strong aria-hidden="true">2.9.</strong> Operational Assurance (1/2)</a></li><li class="chapter-item expanded "><a href="../chp2/operational_assurance_2.html"><strong aria-hidden="true">2.10.</strong> Operational Assurance (2/2)</a></li><li class="chapter-item expanded "><a href="../chp2/_hands_on.html"><strong aria-hidden="true">2.11.</strong> Challenge: Extend the CLI Tool</a></li></ol></li><li class="chapter-item expanded "><a href="../chp3/_index.html"><strong aria-hidden="true">3.</strong> Rust Zero-Crash Course</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chp3/undef.html"><strong aria-hidden="true">3.1.</strong> On Undefined Behavior</a></li><li class="chapter-item expanded "><a href="../chp3/rust_1_low_data_rep.html"><strong aria-hidden="true">3.2.</strong> Rust: Low-Level Data (1/6)</a></li><li class="chapter-item expanded "><a href="../chp3/rust_2_high_data_rep.html"><strong aria-hidden="true">3.3.</strong> Rust: High-Level Data (2/6)</a></li><li class="chapter-item expanded "><a href="../chp3/rust_3_ctrl_flow.html"><strong aria-hidden="true">3.4.</strong> Rust: Control Flow (3/6)</a></li><li class="chapter-item expanded "><a href="../chp3/rust_4_own_1.html"><strong aria-hidden="true">3.5.</strong> Rust: Ownership Principles (4/6)</a></li><li class="chapter-item expanded "><a href="../chp3/rust_5_own_2.html"><strong aria-hidden="true">3.6.</strong> Rust: Ownership in Practice (5/6)</a></li><li class="chapter-item expanded "><a href="../chp3/rust_6_error.html"><strong aria-hidden="true">3.7.</strong> Rust: Error Handling (6/6)</a></li><li class="chapter-item expanded "><a href="../chp3/modules.html"><strong aria-hidden="true">3.8.</strong> The Module System</a></li><li class="chapter-item expanded "><a href="../chp3/tooling.html"><strong aria-hidden="true">3.9.</strong> Recommended Tooling</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.10.</strong> Rust's Release Cycle</div></li><li class="chapter-item expanded "><a href="../chp3/_hands_on.html"><strong aria-hidden="true">3.11.</strong> Challenge: Port a Program</a></li></ol></li><li class="chapter-item expanded "><a href="../chp4/_index.html"><strong aria-hidden="true">4.</strong> Understanding Memory Safety and Exploitation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chp4/sw_stack_1.html"><strong aria-hidden="true">4.1.</strong> Software Perspective: CPU to Process</a></li><li class="chapter-item expanded "><a href="../chp4/assure_stack_1.html"><strong aria-hidden="true">4.2.</strong> Assurance Perspective: Stack Safety</a></li><li class="chapter-item expanded "><a href="../chp4/attack_1.html"><strong aria-hidden="true">4.3.</strong> Attacker's Perspective: Breaking Safety (1/2)</a></li><li class="chapter-item expanded "><a href="../chp4/attack_2.html"><strong aria-hidden="true">4.4.</strong> Attacker's Perspective: Unifying Theory (2/2)</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.5.</strong> Debugging DIY Secret Obfuscation</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.6.</strong> Stack Exploitation</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.7.</strong> Software Perspective: Heap (1/2)</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.8.</strong> Software Perspective: Heap (2/2)</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.9.</strong> Heap Exploitation</div></li><li class="chapter-item expanded "><a href="../chp4/safe_rust_PLACEHOLDER.html"><strong aria-hidden="true">4.10.</strong> Rust's Memory Safety Guarantees (1/2)</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.11.</strong> Rust's Memory Safety Guarantees (2/2)</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.12.</strong> Language-agnostic Mitigations</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.13.</strong> Case Study: Real-world Rust CVEs</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.14.</strong> Challenge: Vulnerability Research</div></li></ol></li><li class="chapter-item expanded "><li class="part-title">Advanced Beginner: Core Project</li><li class="spacer"></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.</strong> Binary Search Tree (BST) Basics</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">5.1.</strong> Core BST Operations in Python</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.2.</strong> Problems Translating to Rust</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.3.</strong> The Importance of Balance</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.4.</strong> TODO</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.5.</strong> Challenge: TODO</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.</strong> Building an Arena Allocator</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">6.1.</strong> Let's Talk Allocators</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.2.</strong> A Stack-Only Arena</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.3.</strong> Index-based Data Structures</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.4.</strong> TODO</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.5.</strong> Challenge: TODO</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.</strong> A Self-balancing BST</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chp7/traits.html"><strong aria-hidden="true">7.1.</strong> Interface-relevant Traits</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.2.</strong> Scapegoat Trees</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.3.</strong> Insert</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.4.</strong> Remove</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.5.</strong> Find</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.6.</strong> Challenge: TODO</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.</strong> Digital Twin Testing</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">8.1.</strong> Basic QEMU Internals</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.2.</strong> How Semi-hosting Works</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.3.</strong> CLI REPL Harness</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.4.</strong> Limitations</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.5.</strong> TODO</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.6.</strong> Challenge: TODO</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.</strong> Building Maps and Sets</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">9.1.</strong> TODO</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.2.</strong> Challenge: TODO</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.</strong> Implementing Iterators</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">10.1.</strong> TODO</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.2.</strong> Challenge: TODO</div></li></ol></li><li class="chapter-item expanded "><li class="part-title">Competent: Validation and Deployment</li><li class="spacer"></li><li class="chapter-item expanded "><div><strong aria-hidden="true">11.</strong> Static Verification</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">11.1.</strong> An Introduction to 1st Order Logic</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">11.2.</strong> Proving Absence of Panics</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">11.3.</strong> Deductively Verifying our Arena Allocator</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">11.4.</strong> Model Checking for unsafe Code</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">11.5.</strong> TODO</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">11.6.</strong> Challenge: Prove a Sorting Algorithm</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">12.</strong> Dynamic Testing</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">12.1.</strong> Introduction to Coverage-Guided Fuzzing</div></li><li class="chapter-item expanded "><a href="../chp12/diff_fuzz_PLACEHOLDER.html"><strong aria-hidden="true">12.2.</strong> Building a Differential Fuzzing Harness</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">12.3.</strong> Using Miri to Detect Undefined Behavior</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">12.4.</strong> Benchmarking and Optimization</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">12.5.</strong> TODO</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">12.6.</strong> Challenge: Bug-hunting with Fuzzers</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">13.</strong> Operational Deployment</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">13.1.</strong> Understanding unsafe (1/3)</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">13.2.</strong> Understanding unsafe (2/3)</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">13.3.</strong> Understanding unsafe (3/3)</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">13.4.</strong> CFFI 101</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">13.5.</strong> C99 Interoperability</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">13.6.</strong> Python3 Interoperability</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">13.7.</strong> Runtime Balance Reconfiguration</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">13.8.</strong> TODO</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">13.9.</strong> Challenge: TODO</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">14.</strong> Maximizing Assurance</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">14.1.</strong> Rust Security Research</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">14.2.</strong> Rust's Limitations</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">14.3.</strong> Best Practices Beyond Rust</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">14.4.</strong> TODO</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">14.5.</strong> Challenge: TODO</div></li></ol></li><li class="chapter-item expanded "><li class="part-title">Conclusion</li><li class="spacer"></li><li class="chapter-item expanded "><div><strong aria-hidden="true">15.</strong> Review</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">15.1.</strong> Key Concepts</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">15.2.</strong> Key Blue-Team Skills</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">15.3.</strong> Key Red-Team Skills</div></li></ol></li><li class="chapter-item expanded "><a href="../chp16_appendix/_index.html"><strong aria-hidden="true">16.</strong> Appendix</a></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">16.1.</strong> Setup: Using our Docker Container</div></li><li class="chapter-item expanded "><a href="../chp16_appendix/tools.html"><strong aria-hidden="true">16.2.</strong> Inventory: Tools of the Trade</a></li><li class="chapter-item expanded "><a href="../chp16_appendix/books.html"><strong aria-hidden="true">16.3.</strong> Inventory: Recommended Reading</a></li><li class="chapter-item expanded "><a href="../chp16_appendix/resources.html"><strong aria-hidden="true">16.4.</strong> Inventory: Additional Resources</a></li><li class="chapter-item expanded "><a href="../chp16_appendix/crypto.html"><strong aria-hidden="true">16.5.</strong> Fundamentals: Stream Ciphers</a></li><li class="chapter-item expanded "><a href="../chp16_appendix/types.html"><strong aria-hidden="true">16.6.</strong> Fundamentals: Type Systems</a></li><li class="chapter-item expanded "><a href="../chp16_appendix/components.html"><strong aria-hidden="true">16.7.</strong> Fundamentals: Component-Based Design</a></li><li class="chapter-item expanded "><a href="../chp16_appendix/mem_hierarch.html"><strong aria-hidden="true">16.8.</strong> Fundamentals: Memory Hierarchy</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">16.9.</strong> Fundamentals: Dynamic Linking</div></li><li class="chapter-item expanded "><a href="../chp16_appendix/icfg.html"><strong aria-hidden="true">16.10.</strong> Theory: Inter-procedural CFGs</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">16.11.</strong> Misc: Size Optimization</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">16.12.</strong> Misc: The Typestate Pattern</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">16.13.</strong> Misc: C++ Interoperability</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">16.14.</strong> Misc: Compile-time Metaprogramming</div></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">High Assurance Rust: Developing Secure and Robust Software</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/tnballo/high-assurance-rust" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://highassurance.rs/engage.html#submit-feedback-questions-issues-or-prs" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="diy-cli-encryption-tool"><a class="header" href="#diy-cli-encryption-tool">DIY CLI Encryption Tool</a></h1>
<p>Unit tests demonstrated that our library is correct (at least the first, non-backdoored version).
We'll now use it to build a Command Line Interface (CLI) encryption utility!</p>
<p>Our tool will accept two arguments, a filename and a hexadecimal encryption key, and proceed to encrypt or decrypt the file on disk.</p>
<p>Given the simplicity of those requirements, we could easily build our CLI tool using only Rust's standard library:</p>
<ul>
<li>
<p>The <code>std::env</code> module<sup class="footnote-reference"><a href="#StdEnv">1</a></sup> provides OS-agnostic argument access (not quite parsing), among other facilities.</p>
</li>
<li>
<p>The <code>std::fs</code> module<sup class="footnote-reference"><a href="#StdFs">2</a></sup> provides OS-agnostic filesystem input/output (e.g. reading/writing files).</p>
</li>
</ul>
<p>Using strictly <code>std</code> would be a fine way to proceed.
If you're a purist, or you'd like to work through a problem without guidance, you can try adapting the below program to use only the standard library.
But we're going to try out Rust's 3rd-party library ecosystem.</p>
<p>Real-world command line applications make use of various 3rd party libraries.
Rust's CLI ecosystem offers plug-n-play (easy to build and link) argument parsing<sup class="footnote-reference"><a href="#Clap">3</a></sup>, text coloring<sup class="footnote-reference"><a href="#Owo">4</a></sup>, integration testing<sup class="footnote-reference"><a href="#AssertCmd">5</a></sup>, Text-based User Interfaces (TUIs)<sup class="footnote-reference"><a href="#Tui">6</a></sup>, etc.
A vast sea of community-maintained libraries make building and maintaining CLI apps a joy.</p>
<p>So let's go ahead and try out a popular library: we'll use the <code>clap</code> crate<sup class="footnote-reference"><a href="#Clap">3</a></sup> for argument parsing.
<code>clap</code> uses Rust's macro system to enable declarative argument parsing logic, as we'll soon see.</p>
<blockquote>
<p><strong>Leveraging the growing Rust ecosystem</strong></p>
<p>One of Rust's killer features is <code>cargo</code>, its official package manager and build system.
We already used <code>cargo</code> to compile and test our RC4 library.
But <code>cargo</code>'s true value is how easy it makes leveraging libraries from the broader Rust ecosystem.</p>
<p>In modern development, the practicality of a programming language is a function of both core language features <em>and</em> the availability of domain-specific abstractions developed/maintained by someone else - in the form of libraries (called &quot;crates&quot; in Rust).</p>
<p>Software engineers need to ship quality code quickly.
That means using existing code, when appropriate, to bootstrap our products.
At the time of this writing, <a href="https://crates.io/">crates.io</a>, the official centralized repository for Rust libraries, hosts over 75,000 crates.</p>
<p>Of course, not every crate is well-maintained, production quality, or secure.
But we have many options from which to choose.
And that number will continue to grow as the Rust ecosystem matures.</p>
</blockquote>
<p><code>cargo</code> will take care of downloading and building the latest version of <code>clap</code>.
All we need to do is add one line to <code>crypto_tool/rcli/Cargo.toml</code>:</p>
<pre><code class="language-toml ignore">[package]
name = &quot;rcli&quot;
version = &quot;0.1.0&quot;
edition = &quot;2021&quot;

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]
rc4 = { path = &quot;../rc4&quot; }
clap = { version = &quot;^4&quot;, features = [&quot;derive&quot;] }
</code></pre>
<ul>
<li>
<p><code>features = [&quot;derive&quot;]</code> enables an optional feature of the <code>clap</code> library: support for derive macros. It'll save us some boilerplate.</p>
</li>
<li>
<p><code>version = &quot;^4&quot;</code> tells <code>cargo</code> that our tool uses the latest <code>clap</code> version <code>&gt;= 4.0.0</code> but <code>&lt; 5.0.0</code>. We can assume API stability for <code>4.x.x</code> versions because Rust crates follow <em>semantic versioning</em> (semver, e.g. <code>MAJOR.MINOR.PATCH</code>)<sup class="footnote-reference"><a href="#SemVer">7</a></sup>.</p>
</li>
</ul>
<p>Notice that, unlike the <code>rc4</code> dependency, we don't provide a local <code>path</code> for <code>clap</code>.
<code>cargo</code> will download the source code from <a href="https://crates.io/">crates.io</a> the first time we build or run our <code>rcli</code> project.</p>
<blockquote>
<p><strong>Can 3rd-party code be trusted?</strong></p>
<p>Most software leverages 3rd-party code.
But each external component we pull in risks introducing bugs and/or vulnerabilities into our system.
For this reason, mature organizations have processes in place to vet dependencies and suppliers.</p>
<p>In some contexts, it's safer to audit the source of a 3rd-party dependency and only use the pre-audited version for all our builds.
The setup of internal repositories and build systems is specific to individual companies and teams.</p>
<p>Note that, for certain problem classes, 3rd-party code actually <em>reduces</em> risk.
Cryptography is a classic example: we're likely better off pulling in a mature library than writing our own implementation of the same algorithm(s).</p>
<p>While manual argument parsing isn't as risky in Rust as it is in C, using <code>clap</code> still reduces chance of error.</p>
</blockquote>
<h2 id="parsing-arguments-with-clap"><a class="header" href="#parsing-arguments-with-clap">Parsing Arguments with <code>clap</code></a></h2>
<p>One of <code>clap</code>'s most convenient features is the ability to <em>annotate</em> the fields of a structure.
Each annotation, which is mechanically a Rust macro, generates code to take care of displaying and parsing arguments.</p>
<ul>
<li>
<p>When a user invokes our CLI tool, we get a single structure with their requested settings/operations (<code>Args</code> in the below).</p>
</li>
<li>
<p>Instead of worrying about the intricacies of argument parsing, we can focus effort on our &quot;business logic&quot;: actioning the fields of the structure to perform the requested tasks.</p>
</li>
</ul>
<p>Let's see how this plays out.
Add the below to <code>crypto_tool/rcli/src/main.rs</code>:</p>
<pre><code class="language-rust ignore">use clap::Parser;

/// RC4 file en/decryption
#[derive(Parser, Debug)]
struct Args {
    /// Name of file to en/decrypt
    #[arg(short, long, required = true, value_name = &quot;FILE_NAME&quot;)]
    file: String,

    /// En/Decryption key (hexadecimal bytes)
    #[arg(
        short,
        long,
        required = true,
        value_name = &quot;HEX_BYTE&quot;,
        num_args = 5..=256,
    )]
    key: Vec&lt;String&gt;,
}

fn main() {
    let args = Args::parse();
    println!(&quot;{:?}&quot;, args);
}</code></pre>
<ul>
<li>
<p><code>Args</code> is a <code>struct</code> with 2 fields:</p>
<ul>
<li>
<p><code>file</code>, a string that will contain the path/name of the file to be en/decrypted.</p>
</li>
<li>
<p><code>key</code>, a dynamic array of individual, space-separated strings. Each string will be a hexadecimal byte of the key.</p>
</li>
</ul>
</li>
<li>
<p>Highlights from <code>clap</code>'s field annotations (macros of the form <code>#[something(...)]</code>):</p>
<ul>
<li>
<p><code>short</code> - generate a short argument name (e.g. <code>-f</code> for <code>file</code>).</p>
</li>
<li>
<p><code>long</code> - generate a long argument name (e.g. <code>--file</code> for <code>file</code>).</p>
</li>
<li>
<p><code>required = true</code> - argument <em>must</em> be provided to run the tool.</p>
</li>
<li>
<p><code>num_args = 5..=256</code> - enforces RC4's minimum 5 byte (40 bit) and maximum 256 byte (2048 bit) key length.</p>
</li>
</ul>
</li>
</ul>
<p>Our two-line <code>main</code> function currently just prints out the <code>Args</code> structure collected from user input.
The format specifier <code>{:?}</code> allows us to use a default formatter, which <code>Args</code> supports because it derives the <code>Debug</code> trait.
We'll talk about traits in the next chapter.</p>
<blockquote>
<p><strong>How would I learn about the annotations <code>clap</code> supports?</strong></p>
<p>Rust has a built-in documentation system, <code>rustdoc</code><sup class="footnote-reference"><a href="#RustDoc">8</a></sup>.
All public crates provided generated documentation, but its completeness varies by project.
You can view <code>clap</code>'s docs at <a href="https://docs.rs/clap">https://docs.rs/clap</a>.</p>
</blockquote>
<p>To run our work-in-progress CLI tool, as is, we can use the command <code>cargo run -- --help</code>:</p>
<pre><code class="language-ignore">RC4 file en/decryption

Usage: rcli --file &lt;FILE_NAME&gt; --key &lt;HEX_BYTE&gt; &lt;HEX_BYTE&gt; &lt;HEX_BYTE&gt; &lt;HEX_BYTE&gt; &lt;HEX_BYTE&gt;...

Options:
  -f, --file &lt;FILE_NAME&gt;
          Name of file to en/decrypt
  -k, --key &lt;HEX_BYTE&gt; &lt;HEX_BYTE&gt; &lt;HEX_BYTE&gt; &lt;HEX_BYTE&gt; &lt;HEX_BYTE&gt;...
          En/Decryption key (hexadecimal bytes)
  -h, --help
          Print help
</code></pre>
<p>The <code>--</code> delimiter tells <code>cargo</code> to pass the remainder of the input to our CLI tool.
In this case we're only passing the flag <code>--help</code>.
Conveniently, <code>clap</code> implemented this flag for us.
Since it's a common convention for CLI tools.
Note how the comments (lines starting with <code>///</code>) for each field of the <code>Args</code> struct are used as descriptions in the help output.</p>
<p>But <code>--help</code> doesn't run our <code>main</code> function.
Let's try <code>cargo run -- --file test.txt --key 0x01 0x02 0x03 0x04 0x05</code> to simulate regular usage of our tool.
With the minimum five byte key length.
Our <code>main</code> will print:</p>
<pre><code class="language-ignore">Args { file: &quot;test.txt&quot;, key: [&quot;0x01&quot;, &quot;0x02&quot;, &quot;0x03&quot;, &quot;0x04&quot;, &quot;0x05&quot;] }
</code></pre>
<p>We have working argument parsing!</p>
<h2 id="implementing-the-file-endecryption-logic"><a class="header" href="#implementing-the-file-endecryption-logic">Implementing the File En/Decryption Logic</a></h2>
<p>All that's left is the &quot;glue&quot; between our RC4 library and our new CLI front-end.
Let's update <code>main</code> to (note the additional imports at the top):</p>
<pre><code class="language-rust ignore">use clap::Parser;
use rc4::Rc4;
use std::fs::File;
use std::io::prelude::{Read, Seek, Write};

// `Args` struct omitted, unchanged...

fn main() -&gt; std::io::Result&lt;()&gt; {
    let args = Args::parse();
    let mut contents = Vec::new();

    // Convert key strings to byte array
    let key_bytes = args
        .key
        .iter()
        .map(|s| s.trim_start_matches(&quot;0x&quot;))
        .map(|s| u8::from_str_radix(s, 16).expect(&quot;Invalid key hex byte!&quot;))
        .collect::&lt;Vec&lt;u8&gt;&gt;();

    // Validation note:
    // `Args` enforces (5 &lt;= key_bytes.len() &amp;&amp; key_bytes.len() &lt;= 256)

    // Open the file for both reading and writing
    let mut file = File::options().read(true).write(true).open(&amp;args.file)?;

    // Read all file contents into memory
    file.read_to_end(&amp;mut contents)?;

    // En/decrypt file contents in-memory
    Rc4::apply_keystream_static(&amp;key_bytes, &amp;mut contents);

    // Overwrite existing file with the result
    file.rewind()?; // &quot;Seek&quot; to start of file stream
    file.write_all(&amp;contents)?;

    // Print success message
    println!(&quot;Processed {}&quot;, args.file);

    // Return success
    Ok(())
}</code></pre>
<p>We've added a return type for <code>main</code>: <code>std::io::Result&lt;()&gt;</code><sup class="footnote-reference"><a href="#IORes">9</a></sup>.
We'll cover Rust's <code>Result</code> type in the next chapter.
The important part here is that all <em>fallible</em> file I/O operations within <code>main</code>'s body end with the <code>?</code> operator.
This tells the function to &quot;short-circuit&quot; if an operation fails and immediately return the error <code>Result</code>.</p>
<p>For example, say someone runs our program and provides a path to a non-existent file:</p>
<pre><code class="language-ignore">cargo run -- --file non_existant_file.txt --key 0x01 0x02 0x03 0x04 0x05
</code></pre>
<p>The line <code>let mut file = File::open(args.file)?;</code> will fail and terminate the program with the following error:</p>
<pre><code class="language-ignore">Error: Os { code: 2, kind: NotFound, message: &quot;No such file or directory&quot; }
</code></pre>
<p>In a production-grade tool, we could handle errors gracefully, log them, or wrap them with more user-friendly output.
If no errors are hit, we simply return an empty value (<code>()</code>, Rust's <em>unit type</em><sup class="footnote-reference"><a href="#Unit">10</a></sup>) wrapped in <code>Ok</code> to indicate success.</p>
<p>Our new <code>main</code> function has a few more pieces worth explaining:</p>
<ul>
<li>
<p><strong>No buffering:</strong> We read the whole file into memory at once, into the byte vector <code>contents</code>. Supporting large files could be made more efficient with a technique called <em>buffering</em>, where we only read/encrypt a small chunk at a time. This example aims for simplicity instead.</p>
</li>
<li>
<p><strong>Optional byte prefix:</strong> The key conversion logic uses Rust's functional-style iterators. We'll discuss iterators at length later. Note that <code>s.trim_start_matches(&quot;0x&quot;)</code> allows our user to <em>optionally</em> add the prefix <code>0x</code> to each byte. Meaning <code>--key 01 02 03 04 05</code> would have been valid and equivalent input.</p>
</li>
<li>
<p><strong>Input validation:</strong> Whenever you write code that parses input you don't control, that input is <em>untrusted</em>. It may be <em>attacker-controlled</em>. Validate it ASAP - before passing it along to any other component of your program or system. Our <code>main</code> uses a three step-validation:</p>
<ol>
<li>
<p><strong>Valid key length:</strong> Instead of assuming our encryption library checks key length (which our RC4 implementation does!), we used an annotation on the <code>key</code> field in <code>Arg</code> (e.g. <code>num_args = 5..=256</code>). Try <code>cargo run -- -f anything.txt -k 01</code> to see the error.</p>
</li>
<li>
<p><strong>Valid hex key bytes:</strong> <code>.expect(&quot;Invalid key hex byte!&quot;)</code> determines the error message thrown if the program receives an invalid string representation of a base-16 byte in the key input (e.g. <code>&quot;0xfg&quot;</code>).</p>
</li>
<li>
<p><strong>Necessary file permissions:</strong> <code>std::fs</code> uses OS facilities to ensure the user has permissions to read and write the file provided. If they don't, our program will throw an error - similar to the <code>Error: Os { code: 2, kind: NotFound...</code> case we saw earlier.</p>
</li>
</ol>
</li>
</ul>
<blockquote>
<p><strong>What should we do if validation fails?</strong></p>
<p>That depends on operational context.
By terminating our CLI tool with an actionable error message as early as possible, we're practicing <strong>offensive programming</strong>:</p>
<ul>
<li>We consider failing early to be an effective first line of defense. We believe there's benefit to never tolerating certain errors.</li>
</ul>
<p>If our file encryption logic had been part of a networked service or protocol, we'd likely prioritize <strong>availability</strong> - keeping the system online and reachable.
<strong>Defensive programming</strong> would be more appropriate:</p>
<ul>
<li>We'd recover from failures with minimal disruption to the end-user.</li>
</ul>
<p>That could mean returning an error (via status code or protocol message) and immediately reverting to listening for new file encryption requests.
Instead of terminating.</p>
</blockquote>
<h2 id="using-the-tool"><a class="header" href="#using-the-tool">Using the Tool</a></h2>
<p>First, let's install our tool so that we can use it like any other command-line utility.
From the <code>crypto_tool/rcli</code> directory, run:</p>
<pre><code class="language-ignore">cargo install --path .
</code></pre>
<p>You should now be able to run <code>rcli --help</code>.
If you want to know where the actual compiled binary is located, run <code>which rcli</code>.</p>
<p>To try out the tool, create a text file with a secret message:</p>
<pre><code class="language-ignore">echo &quot;This is a secret, don't tell anyone!&quot; &gt; secret.txt
</code></pre>
<p>We can use <code>cat</code> to verify the contents:</p>
<pre><code class="language-ignore">$ cat secret.txt
This is a secret, don't tell anyone!
</code></pre>
<p>The contents will no longer be printable after we encrypt.
So let's view them with <code>xxd</code> now:</p>
<pre><code class="language-ignore">$ xxd -g 1 secret.txt
00000000: 54 68 69 73 20 69 73 20 61 20 73 65 63 72 65 74  This is a secret
00000010: 2c 20 64 6f 6e 27 74 20 74 65 6c 6c 20 61 6e 79  , don't tell any
00000020: 6f 6e 65 21 0a                                   one!.
</code></pre>
<p><code>xxd</code> displayed three columns:</p>
<ol>
<li><strong>Left:</strong> the hexadecimal offset into the file.</li>
<li><strong>Middle:</strong> the raw contents of the file as a sequence of hexadecimal bytes.</li>
<li><strong>Right:</strong> the ASCII<sup class="footnote-reference"><a href="#ASCII">11</a></sup> decoding of the raw bytes (our secret message).</li>
</ol>
<p>The <code>-g 1</code> flag makes each byte stand alone in that middle column.</p>
<p>Let's encrypt the file:</p>
<pre><code class="language-ignore">rcli -f secret.txt -k 01 02 03 04 05
</code></pre>
<p>You should see the output <code>Processed secret.txt</code>.
If we run <code>xxd -g 1 secret.txt</code> again:</p>
<pre><code class="language-ignore">00000000: e6 51 0a 76 d0 54 b3 07 ad e3 21 2f 69 63 7d dc  .Q.v.T....!/ic}.
00000010: 45 a2 f0 20 76 db f6 f5 fd a1 6f c8 5a 6c 67 60  E.. v.....o.Zlg`
00000020: d9 e1 1d e3 87                                   .....
</code></pre>
<p>The bytes have changed because the file has been encrypted.
Our rightmost column doesn't look like a sensible ASCII string anymore.
Verify that you can decrypt the file and retrieve the original message by running <code>rcli</code> again.</p>
<blockquote>
<p><strong>Could our tool print &quot;encrypting&quot; or &quot;decrypting&quot; when processing the file?</strong></p>
<p>As you've seen, encryption and decryption are really the same operation.
We're XOR-ing with the keystream either way.
In order to print a user-friendly message indicating if we've just hidden data or revealed it, we need to know the starting state of the file.</p>
<p>Turns out that's not a trivial task!
You have to bridge the &quot;semantic gap&quot; to determine if an arbitrary sequence of bytes is or isn't an encrypted file.
That's part of this chapter's challenge.</p>
</blockquote>
<h2 id="major-checkpoint"><a class="header" href="#major-checkpoint">Major Checkpoint</a></h2>
<p>We wrote a portable, memory-safe RC4 library and validated it against official test vectors.
It can be used anywhere, even bare metal embedded systems.</p>
<p>Leveraging the <code>clap</code> crate and Rust's standard library, we then built a simple RC4 CLI tool.
Our tool can be compiled for any major OS.</p>
<p>All in only 171 lines of code.
Including all tests and implementing the cryptography <em>from scratch</em>.
And that code is natively compiled - <code>rcli</code> is blazing fast.
Not bad for your first Rust program.</p>
<p>Take a second to soak it in.
You've already come quite far.
When you're ready, we can close out this chapter with one last topic: operational assurance.</p>
<hr />
<div class="footnote-definition" id="StdEnv"><sup class="footnote-definition-label">1</sup>
<p><a href="https://doc.rust-lang.org/std/env/index.html"><em>Module <code>std::env</code></em></a>. The Rust Team (Accessed 2022).</p>
</div>
<div class="footnote-definition" id="StdFs"><sup class="footnote-definition-label">2</sup>
<p><a href="https://doc.rust-lang.org/std/fs/index.html"><em>Module <code>std::fs</code></em></a>. The Rust Team (Accessed 2022).</p>
</div>
<div class="footnote-definition" id="Clap"><sup class="footnote-definition-label">3</sup>
<p><a href="https://docs.rs/clap/3.0.7/clap/"><em>Crate <code>clap</code></em></a>. <code>clap-rs</code> Project (Accessed 2022).</p>
</div>
<div class="footnote-definition" id="Owo"><sup class="footnote-definition-label">4</sup>
<p><a href="https://docs.rs/owo-colors/3.2.0/owo_colors/"><em>Crate <code>owo-colors</code></em></a>. jam1garner (Accessed 2022).</p>
</div>
<div class="footnote-definition" id="AssertCmd"><sup class="footnote-definition-label">5</sup>
<p><a href="https://docs.rs/assert_cmd/latest/assert_cmd/"><em>Crate <code>assert_cmd</code></em></a>. Ed Page (Accessed 2022).</p>
</div>
<div class="footnote-definition" id="Tui"><sup class="footnote-definition-label">6</sup>
<p><a href="https://docs.rs/tui/0.16.0/tui/"><em>Crate <code>tui</code></em></a>. Florian Dehau (Accessed 2022).</p>
</div>
<div class="footnote-definition" id="SemVer"><sup class="footnote-definition-label">7</sup>
<p><a href="https://semver.org/"><em>Semantic Versioning 2.0.0</em></a>. Tom Preston-Werner (Accessed 2022).</p>
</div>
<div class="footnote-definition" id="RustDoc"><sup class="footnote-definition-label">8</sup>
<p><a href="https://doc.rust-lang.org/rustdoc/what-is-rustdoc.html"><em>What is rustdoc?</em></a>.</p>
</div>
<div class="footnote-definition" id="IORes"><sup class="footnote-definition-label">9</sup>
<p><a href="https://doc.rust-lang.org/std/io/type.Result.html"><em>Type Definition <code>std::io::Result</code></em></a>. The Rust Team (Accessed 2022).</p>
</div>
<div class="footnote-definition" id="Unit"><sup class="footnote-definition-label">10</sup>
<p><a href="https://doc.rust-lang.org/std/primitive.unit.html"><em>Primitive Type unit</em></a>. The Rust Team (Accessed 2022).</p>
</div>
<div class="footnote-definition" id="ASCII"><sup class="footnote-definition-label">11</sup>
<p><a href="https://en.wikipedia.org/wiki/ASCII"><em>ASCII</em></a>. Wikipedia (Accessed 2022).</p>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../chp2/limits.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../chp2/operational_assurance_1.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../chp2/limits.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../chp2/operational_assurance_1.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
